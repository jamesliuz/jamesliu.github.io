<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>jamesliuz&#39;s Blog</title>
  
  <subtitle>极致，简美，不凡</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-07-06T04:32:54.285Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>jamesliu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>pycharm配置Spark开发环境</title>
    <link href="http://yoursite.com/2019/07/06/pycharm%E9%85%8D%E7%BD%AESpark%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    <id>http://yoursite.com/2019/07/06/pycharm配置Spark开发环境/</id>
    <published>2019-07-06T04:14:54.000Z</published>
    <updated>2019-07-06T04:32:54.285Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1.安装好JDK</p><p>下载并安装好jdk-12.0.1_windows-x64_bin.exe，配置环境变量：</p><ul><li>新建系统变量JAVA_HOME，值为Java安装路径</li><li>新建系统变量CLASSPATH，值为 <code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code>（注意最前面的圆点）</li><li>配置系统变量PATH，添加 <code>%JAVA_HOME%bin;%JAVA_HOME%jrebin</code></li></ul><p>在CMD中输入：java或者java -version，不显示不是内部命令等，说明安装成功。</p><p>2.安装Hadoop，并配置环境变量</p><ul><li>下载hadoop：<code>https://www.apache.org/dyn/closer.cgi/hadoop/common/hadoop-2.7.7/hadoop-2.7.7.tar.gz</code></li></ul><p><img src="https://s2.ax1x.com/2019/07/06/ZwwCfP.png" alt="ZwwCfP.png"></p><ul><li>解压hadoop-2.7.7.tar.gz特定路径，如：D:\adasoftware\hadoop</li><li>添加系统变量HADOOP_HOME：D:\adasoftware\hadoop</li><li>在系统变量PATH中添加：D:\adasoftware\hadoop\bin</li><li>安装组件<a href="https://github.com/steveloughran/winutils" target="_blank" rel="noopener">winutils</a>：将winutils中对应的hadoop版本中的bin替换自己hadoop安装目录下的bin</li></ul><p>3.Spark环境变量配置</p><blockquote><p>spark是基于hadoop之上的，运行过程中会调用相关hadoop库，如果没配置相关hadoop运行环境，会提示相关出错信息，虽然也不影响运行。</p></blockquote><ul><li>下载对应hadoop版本的spark：<code>http://spark.apache.org/downloads.html</code></li><li>解压文件到：<code>D:\adasoftware\spark-2.4.3-bin-hadoop2.7</code></li><li>添加PATH值：<code>D:\adasoftware\spark-2.4.3-bin-hadoop2.7\bin;</code></li><li>新建系统变量SPARK_HOME：<code>D:\adasoftware\spark-2.4.3-bin-hadoop2.7;</code></li></ul><p>4.下载安装anaconda<br>anaconda集成了python解释器和大多数python库，安装anaconda 后不用再安装python和pandas numpy等这些组件了。<a href="https://www.continuum.io/downloads" target="_blank" rel="noopener">下载地址</a>。最后将python加到path环境变量中。</p><p>5.在CMD中运行pyspark，出现类似下图说明安装配置正常</p><p><img src="https://s2.ax1x.com/2019/07/06/ZwwLhq.png" alt="ZwwLhq.png"></p><p>出现这种warning是因为JDK版本为12，太高了，但是不影响运行。没有影响。</p><p>6.在pycharm中配置spark</p><ul><li>打开PyCharm，创建一个Project。然后选择“Run” -&gt;“Edit Configurations”–&gt;点击+创建新的python Configurations</li></ul><p><img src="https://s2.ax1x.com/2019/07/06/Zw0l4I.png" alt="Zw0l4I.png"></p><ul><li>选择 “Environment variables” 增加SPARK_HOME目录与PYTHONPATH目录。</li></ul><pre><code>- SPARK_HOME:Spark安装目录- PYTHONPATH:Spark安装目录下的Python目录</code></pre><p><img src="https://s2.ax1x.com/2019/07/06/Zw0Jv8.png" alt="Zw0Jv8.png"></p><ul><li><p>选择 File-&gt;setting-&gt;你的project-&gt;project structure</p></li><li><p>右上角Add content root添加：py4j-some-version.zip和pyspark.zip的路径（这两个文件都在Spark中的python文件夹下）</p></li><li><p>保存即可</p><p>7.测试是否配置成功，程序代码如下，创建一个python程序放进去就可以：</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line"># Path for spark source folder</span><br><span class="line">os.environ[&apos;SPARK_HOME&apos;] = &quot;D:\adasoftware\spark&quot;</span><br><span class="line"></span><br><span class="line"># Append pyspark to Python Path</span><br><span class="line">sys.path.append(&quot;D:\adasoftware\spark\python&quot;)</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    from pyspark import SparkContext</span><br><span class="line">    from pyspark import SparkConf</span><br><span class="line"></span><br><span class="line">    print(&quot;Successfully imported Spark Modules&quot;)</span><br><span class="line">except ImportError as e:</span><br><span class="line">    print(&quot;Can not import Spark Modules&quot;, e)</span><br><span class="line">    sys.exit(1)</span><br></pre></td></tr></table></figure><p>若程序正常输出: “Successfully imported Spark Modules”就说明环境已经可以正常执行。</p><p><img src="https://s2.ax1x.com/2019/07/06/Zw0tKS.png" alt="Zw0tKS.png"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="spark" scheme="http://yoursite.com/tags/spark/"/>
    
      <category term="hadoop" scheme="http://yoursite.com/tags/hadoop/"/>
    
      <category term="pycharm" scheme="http://yoursite.com/tags/pycharm/"/>
    
  </entry>
  
  <entry>
    <title>Vim常用命令</title>
    <link href="http://yoursite.com/2019/07/03/Vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2019/07/03/Vim常用命令/</id>
    <published>2019-07-03T07:16:45.000Z</published>
    <updated>2019-07-03T09:54:21.878Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>进入vi<br>vi filename                打开或新建文件，并将光标置于第一行首</p><p>vi +n filename           打开文件，并将光标置于第 n行首</p><p>vi + filename             打开文件，并将光标置于最后一行首</p><p>vi -r filename            在上次正用 vi编辑时发生系统崩溃，恢复文件</p><p>vi file1….filen            打开多个文件，依次编辑</p><p>vi的工作模式<br>命令行模式 （command mode）：控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode。</p><p>插入模式（Insert mode）：只有在 Insert mode 下，才可以做文字输入，按「ESC」键可回到命令行模式。</p><p>底行模式（last line mode）：将文件保存或退出 vi，也可以设置编辑环境，如寻找字符串、列出行号等。</p><p><img src="https://s2.ax1x.com/2019/07/03/Zt66Yt.png" alt="Zt66Yt.png"></p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=557612613&auto=1&height=66"></iframe><iframe height="498" width="510" src="http://player.youku.com/embed/XNDEzNDc5NDA4MA==" frameborder="0" 'allowfullscreen'></iframe>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Vim" scheme="http://yoursite.com/tags/Vim/"/>
    
  </entry>
  
</feed>
